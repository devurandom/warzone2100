# -*-shell-script-*-

[Meta]
RootName: @gna.org/warzone:$SOFTWAREVERSION
DisplayName: Warzone 2100
ShortName: warzone2100
Maintainer: Warzone Resurrection Project <warzone-dev@gna.org>
Packager: Dennis Schridde <devurandom@gna.org>
Summary: Warzone 2100 is a 3D realtime strategy game about a post nuklear war in the year 2100
URL: http://wz2100.net/
License: GNU General Public License, Version 2
SoftwareVersion: @VERSION@
Repository: http://download.gna.org/warzone/.autopackage/$SHORTNAME.xml
PackageDesktop: share/applications/warzone2100.desktop
# PackageVersion: 2
AutopackageTarget: 1.2

[BuildPrepare]
prepareBuild --enable-data

[BuildUnprepare]
unprepareBuild

[Globals]
export APBUILD_STATIC="mad"

[Imports]
echo '*' | import

[Prepare]
# Dependency checking
require @libsdl.org/sdl 1.2
require @libsdl.org/sdl_net 1.2
require @opengl.org/opengl 1
require @openal.org/openal 0
require @icculus.org/physfs 1
require @libpng.org/libpng 3
require @jig.org/libjpeg 62
require @xiph.org/libogg 0
require @xiph.org/libvorbis 0

removeOwningPackage $PREFIX/bin/warzone2100
removeOwningPackage $PREFIX/share/warzone2100

[Install]
# Put your installation script here
installExe bin/warzone2100
installData share/warzone2100 share/doc
installIcon share/icons/warzone2100.png
installMenuItem "Games/TacticStrategy" share/applications/warzone2100.desktop

[Uninstall]
# Usually just the following line is enough to uninstall everything
uninstallFromLog
